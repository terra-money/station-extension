import {
  Meta,
  Canvas,
  Source,
} from "@storybook/blocks";
import { RequiredText } from "../../../../DocsHelpers.tsx";
import * as ActivityListItemStories from "./ActivityListItem.stories.tsx";
import "scss/storybookoverrides.scss";

<Meta title="Components/List Items/Activity" />

# ActivityListItem

##### Displays a single activity item.

## Props
- **`variant`** - Changes the icon on the chain.
  - Options are `success`, `failed`, `loading`.
  - ***You can pass in nothing and there will not be an icon on the chain logo***
- **`chain`** - <RequiredText /> - `**object below**` - Chain for image.
  - `{ icon: string, label: string }`
- **`msg`** - <RequiredText /> - `ReactNode` - The message containing the details of the transactions.
- **`type`** - <RequiredText /> - `string` - String that is displayed inside of the Pill.
- **`secondaryPill`** - `ReactNode` - A secondary pill in line with the "type" pill. `(Pass in <Pill />)`
- **`time`** - `string` - The time when the transaction was made.
- **`msgCount`** - `string` - Will override `time` and display a message count instead.
- **`hasTimeline`** - `boolean` - Just to display the dotted line.
- **`onClick`** - `() => void` - Function that is called when the activity item is clicked.
-
- **`progressTracker`** - `boolean` - Display a `<TransactionTracker />` in the activity item.


## Import
```jsx
import { ActivityListItem } from "station-ui";
```

## Stories

## Successful
Activity with a green check icon on the chain icon.
<div className="story_with_source_below">
  <Canvas of={ActivityListItemStories.Successful} />
  <Source code={`
    <ActivityListItem
  variant={"success"}
  chain={{ icon: "https://station-assets.terra.dev/img/chains/Terra.svg", label: "Terra" }}
  msg={
    <div>
      Sent <span>420.00 LUNA</span> to <span>terra1...20k38v</span>
    </div>
  }
  type={"Execute Contract"}
  msgCount={1}
/>
  `} />
</div>

## Successful Chain Image Fallback
Activity with a green check icon on the chain icon but, the chain image failed to load so we use a fallback svg.
<div className="story_with_source_below">
  <Canvas of={ActivityListItemStories.SuccessfulNoImage} />
  <Source code={`
    <ActivityListItem
  variant={"success"}
  chain={{ icon: "https://station-assets.terra.dev/img/chains/T.svg", label: "Terra" }}
  msg={
    <div>
      Sent <span>420.00 LUNA</span> to <span>terra1...20k38v</span>
    </div>
  }
  type={"Execute Contract"}
  msgCount={1}
/>
  `} />
</div>

## Failed
Activity with a red check icon on the chain icon and a "Failed Transaction" pill.
<div className="story_with_source_below">
  <Canvas of={ActivityListItemStories.Failed} />
  <Source code={`
    <ActivityListItem
  variant={"failed"}
  chain={{ icon: "https://station-assets.terra.dev/img/chains/Terra.svg", label: "Terra" }}
  msg={
    <div>
      Sent <span>420.00 LUNA</span> to <span>terra1...20k38v</span>
    </div>
  }
  type={"Failed Transaction"}
  time={"2 minutes ago"}
/>
  `} />
</div>

## Loading
Activity with a loading icon on the chain icon.
<div className="story_with_source_below">
  <Canvas of={ActivityListItemStories.Loading} />
  <Source code={`
    <ActivityListItem
  variant={"loading"}
  chain={{ icon: "https://station-assets.terra.dev/img/chains/Terra.svg", label: "Terra" }}
  msg={
    <div>
      Delegated <span>420.00 LUNA</span> to <span>Orbital Command</span>
    </div>
  }
  type={"Delegate"}
  time={"1 day ago"}
/>
  `} />
</div>

## No Status Icon
Activity with no icon on the chain icon.
<div className="story_with_source_below">
  <Canvas of={ActivityListItemStories.NoStatusIcon} />
  <Source code={`
    <ActivityListItem
  chain={{ icon: "https://station-assets.terra.dev/img/chains/Terra.svg", label: "Terra" }}
  msg={
    <div>
      Sent <span>420.00 LUNA</span> to <span>terra1...20k38v</span>
    </div>
  }
  type={"Execute Contract"}
  msgCount={3}
/>
  `} />
</div>

## Secondary Pill
Displays a secondary pill in line with the "type" pill.
<div className="story_with_source_below">
  <Canvas of={ActivityListItemStories.SecondaryPill} />
  <Source code={`
    <ActivityListItem
  variant={"loading"}
  chain={{ icon: "https://station-assets.terra.dev/img/chains/Terra.svg", label: "Terra" }}
  msg={
    <div>
      Sent <span>420.00 LUNA</span> to <span>terra1...20k38v</span>
    </div>
  }
  type={"Execute Contract"}
  msgCount={1}
  secondaryPill={<Pill variant={"warning"} text={"Pending"} />}
/>
  `} />
</div>

## With TransactionTracker
Displays a `<TransactionTracker />` in the activity item.
<div className="story_with_source_below">
  <Canvas of={ActivityListItemStories.WithTransactionTracker} />
  <Source code={`
    <ActivityListItem
  variant={"loading"}
  chain={{ icon: "https://station-assets.terra.dev/img/chains/Terra.svg", label: "Terra" }}
  msg={
    <div>
      Sent <span>420.00 LUNA</span> to <span>terra1...20k38v</span>
    </div>
  }
  type={"Execute Contract"}
  msgCount={1}
  secondaryPill={<Pill variant={"warning"} text={"Pending"} />}
  progressTracker={
    <TransactionTracker
      steps={["completed", "incomplete", "incomplete"]}
      stepLabels={["Terra", "Osmosis", "Something"]}
    />
  }
/>
  `} />
</div>

## Timeline
Activity with a timeline connecting to the main message.
<div className="story_with_source_below">
  <Canvas of={ActivityListItemStories.Timeline} />
  <Source code={`
    <ActivityListItem
  variant={"success"}
  chain={{ icon: "https://station-assets.terra.dev/img/chains/Terra.svg", label: "Terra" }}
  msg={
    <div>
      Swapped <span>1,500 axlUSDC</span> for <span style={{color: "var(--token-success-500)"}}>3,422.65 LUNA</span> on <span>TFM</span>
    </div>
  }
  type={"Delegate"}
  msgCount={8}
  hasTimeline={true}
/>
  `} />
</div>

<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
