import { Meta, Story, Canvas, Controls, ArgTypes, Description, Source } from '@storybook/addon-docs/blocks';
import { RequiredText } from "../../../DocsHelpers";
import ModalButton from './ModalButton';
import * as ModalStories from './Modal.stories.tsx';
import * as ModalButtonStories from './ModalButton.stories.tsx';
import 'scss/storybookoverrides.scss';

<Meta title='Components/Feedback/Modals' />

# Modals
Modal components use the `react-modal` npm package.
- [`<Modal />`](?path=/story/components-feedback-modals-modal--playground)
  - Used in flows without user interaction.
  - **Example:** after a transaction is successful or fails a Modal opens with the result.
- [`<ModalButton />`](?path=/story/components-feedback-modals-modalbutton--playground)
  - Used the majority of the time when we need a modal to pop up when a user clicks something (a button)
  - **Example:** when the preferences icon in the navbar is clicked a modal pops up containing .

# Modal Props
- **`title`** - `ReactNode` - The title of the modal.
- **`subtitle`** - `ReactNode` - The subtitle of the modal.
- **`footer`** - `(close: ReactModal.Props["onRequestClose"]) => ReactNode` - The footer of the modal. It is a function that takes a `close` function and returns a JSX element.

- **`confirm`** - `boolean` - Sets the font-size to "inherit"...
- **`minimal`** - `boolean` - Sets the width to "fit-content" amd the padding to "0px".
- **`maxHeight`** - `boolean | number` - Forces a maximum height

- **`closeIcon`** - `ReactNode` - Replace the default close icon.
- **`icon`** - `ReactNode` - An Icon that is displayed above the title.
- **`rootID`** - `string` - The ID of the root element.
- **`backAction`** - `() => void` - A function that is called when the back button is clicked.
- **`hideCloseButton`** - `boolean` - Forces the "close" button to be hidden.

## Modal Stories

## Extension - ***makes the modal look like a full page***
## Extension Default
<div className="story_with_source_below">
  <Source code={`
    <Modal title="Modal Title" isOpen={true} onRequestClose={() => {}}>
  <Form>
    <InputWrapper label={"This is a label"}>
      <Input inputMode="text" placeholder={"am placeholder"} />
    </InputWrapper>

    <SubmitButton variant="primary" onClick={() => {}} label={"Submit"} />
  </Form>
</Modal>
  `} />
</div>

## Extension With Back Button
<div className="story_with_source_below">
  <Source code={`
    <Modal
  title="Modal Title"
  isOpen={true}
  onRequestClose={() => {}}
  backAction={() => {}}
>
  <Form>
    <InputWrapper label={"This is a label"}>
      <Input inputMode="text" placeholder={"am placeholder"} />
    </InputWrapper>

    <SubmitButton variant="primary" onClick={() => {}} label={"Submit"} />
  </Form>
</Modal>
  `} />
</div>

## Extension With Sub Title
<div className="story_with_source_below">
  <Source code={`
    <Modal
  title="Modal Title"
  isOpen={true}
  onRequestClose={() => {}}
  subtitle="terra1oid33d3...pazdy5"
>
  <Form>
    <InputWrapper label={"This is a label"}>
      <Input inputMode="text" placeholder={"am placeholder"} />
    </InputWrapper>

    <SubmitButton variant="primary" onClick={() => {}} label={"Submit"} />
  </Form>
</Modal>
  `} />
</div>

## Extension With Sub Title And Back
<div className="story_with_source_below">
  <Source code={`
    <Modal
  title="Modal Title"
  isOpen={true}
  onRequestClose={() => {}}
  backAction={() => {}}
  subtitle="terra1oid33d3...pazdy5"
>
  <Form>
    <InputWrapper label={"This is a label"}>
      <Input inputMode="text" placeholder={"am placeholder"} />
    </InputWrapper>

    <SubmitButton variant="primary" onClick={() => {}} label={"Submit"} />
  </Form>
</Modal>
  `} />
</div>

## Extension No Close Button
<div className="story_with_source_below">
  <Source code={`
    <Modal
  title="Modal Title"
  isOpen={true}
  onRequestClose={() => {}}
  hideCloseButton
>
  <Form>
    <InputWrapper label={"This is a label"}>
      <Input inputMode="text" placeholder={"am placeholder"} />
    </InputWrapper>

    <SubmitButton variant="primary" onClick={() => {}} label={"Submit"} />
  </Form>
</Modal>
  `} />
</div>

## ModalButton

# ModalButton Props extends Modal Props
`<ModalButton>` opens a modal when clicked. It is based on `<Modal />`.
- **`renderButton`** - <RequiredText /> - `(openModal: () => void) => ReactNode` - The button that opens the modal. It is a function that takes an `open` boolean and returns a JSX element.
- **`children`** - `ReactNode` - The content of the modal. It is a function that takes an `open` boolean and returns a JSX element.
- **`hideCloseButton`** - `boolean` - Forces the "close" button to be hidden.

## Import
```tsx
import { Modal } from 'station-ui';
```

## Stories

## Default
<div className="story_with_source_below">
  <Canvas of={ModalButtonStories.Default} />
  <Source code={`
    <ModalButton
  renderButton={(open) => (
    <button onClick={open} type="button">
      Open Modal
    </button>
  )}
>
  <p>Modal Content</p>
</ModalButton>
  `} />
</div>

## No Close Icon
<div className="story_with_source_below">
  <Canvas of={ModalButtonStories.NoCloseIcon} />
  <Source code={`
    <ModalButton
  renderButton={(open) => (
    <button onClick={open} type="button">
      Open Modal
    </button>
  )}
  hideCloseButton
>
  <p>Modal Content</p>
</ModalButton>
  `} />
</div>

## Playground - ModalButton
<Canvas of={ModalButtonStories.Playground} />
***These controls control the actual Modal and do not change the Button.***
<Controls of={ModalButtonStories.Playground} />
